#!/usr/bin/ruby

re = Regexp.compile(ARGV[0])
f = open(ARGV[1])
r = nil
c = 0

f.each do |l|
    c += 1 if r = re =~ l
end

p c
f.close
